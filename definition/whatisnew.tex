%!TEX root = root.tex
%

\section{Appendix: What is New?}
\label{whatisnew-app}

This appendix describes the differences between this document and
\emph{The Definition of Standard ML (Revised)}.

\subsection{Changes from SML '97}

\subsubsection{Fixes and simplifications}
All of the proposed fixes and simplifications from Appendix~B in the
HaMLet S manual~\cite{hamlet-s} have been integrated into the document,
and are rendered as \FIX{blue text.}
These are as follows (entries are annotated with their corresponding
section in Appendix~B):
\begin{itemize}
\setlength{\itemsep}{0em}
\item Syntax fixes (B.1)
\item Semantic fixes (B.2)
\item Monomorphic non-exhaustive bindings (B.3)
\item Simplified recursive value bindings (B.4)
\item Abstype as derived form (B.5)
\item Fixed manifest type specifications (B.6)
\item Abolish sequenced type realizations (B.7)
\end{itemize}%

In addition to the fixes described by Rossberg, I have also added the $\ARRAY$ type constructor
to the Initial Basis so that its equality property can be properly defined.

\subsubsection{Extensions}
The following is a list of proposed extensions from Appendix~B in the HaMLet S manual
that have been integrated into the document and are rendered as \ADD{magenta text}.
They are marked with the corresponding section of Appendix~B.
\begin{itemize}
\setlength{\itemsep}{0em}
\item Line comments (B.8)
\item Extended literal syntax (B.9)
%\item Vector syntax?
\item Record punning (B.10)
\item Record extension (B.11)
\item Record update (B.12)
\item Conjunctive patterns (B.13)
\item Disjunctive patterns (B.14)
\item Nested matches (B.15)
\item Pattern guards (B.16)
%\item Transformation patterns
%\item Finally
%\item Exceptional syntax
\item Optional bars and semicolons (B.18)
\item Optional else branch (B.19)
%\item Optional op keywords?
%\item Views
\item Do declarations (B.21)
%\item Declarations in sequential expressions?
%\item Monad syntax?
%\item Extensional datatypes?
\item Withtype in signatures (B.22)
%\item Manifest structures ("structure strid : sigexp = longstrid", "sigexp where longstrid = strexp")
%\item Local specifications? ("let dec in sigexp end", "local dec in spec end")
%\item Fixity specifications?
%\item Higher-order functors
%\item Nested signatures
%\item Local modules
%\item First-class modules
\end{itemize}

\subsection{Changed from HaMLet S}
There are a number of differences and omissions in what is described in this document
and the SuccessorML features documented by Rossberg in the HaMLet S manual~\cite{hamlet-s}.
We list these here.
\begin{itemize}
  \item
    The syntax of real literals is specified in a slightly more consistent way.  The consequence of this
    change is that underscores are not permitted immediately following the decimal point.
  \item
    The alternative prefixes ``\ml{0xw}'' and ``\ml{0bw}'' for word literals are not part of
    this specification.
  \item
    Optional bars in matches and semicolons in expression sequences are defined
    in Appendix~\ref{derived-forms-app} as derived forms, instead as part of the core syntax.
\end{itemize}%
